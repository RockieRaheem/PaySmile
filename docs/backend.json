
{
  "entities": {
    "UserProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserProfile",
      "type": "object",
      "description": "Represents a user's profile within the PaySmile application.",
      "properties": {
        "userName": {
          "type": "string",
          "description": "The user's display name."
        },
        "email": {
          "type": "string",
          "description": "The user's email address for communication.",
          "format": "email"
        },
        "walletAddress": {
          "type": "string",
          "description": "The user's Celo or Valora wallet address."
        },
        "profilePictureUrl": {
          "type": "string",
          "description": "URL of the user's profile picture.",
          "format": "uri"
        },
        "monthlyDonationLimit": {
          "type": "number",
          "description": "The user's self-imposed monthly donation limit in UGX."
        },
        "roundUpPreference": {
          "type": "number",
          "description": "User's round-up preference (e.g., 10, 50, 100 UGX)."
        },
        "automaticRoundUpsEnabled": {
          "type": "boolean",
          "description": "Indicates whether automatic round-ups are enabled for the user."
        }
      },
      "required": [
        "userName"
      ]
    },
    "ProjectVote": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ProjectVote",
      "type": "object",
      "description": "Represents a user's vote for a specific community project.",
      "properties": {
        "userProfileId": {
          "type": "string",
          "description": "Reference to UserProfile. (Relationship: UserProfile 1:N ProjectVote)"
        },
        "projectId": {
          "type": "string",
          "description": "Reference to Project. (Relationship: Project 1:N ProjectVote)"
        },
        "voteTimestamp": {
          "type": "string",
          "description": "Timestamp of when the vote was cast.",
          "format": "date-time"
        }
      },
      "required": [
        "userProfileId",
        "projectId",
        "voteTimestamp"
      ]
    },
    "Project": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Project",
      "type": "object",
      "description": "Represents a community project seeking funding through PaySmile.",
      "properties": {
        "projectName": {
          "type": "string",
          "description": "Name of the community project."
        },
        "projectDescription": {
          "type": "string",
          "description": "Detailed description of the project."
        },
        "fundingGoal": {
          "type": "number",
          "description": "The total funding goal for the project in UGX."
        },
        "currentFunding": {
          "type": "number",
          "description": "The current amount of funding received for the project in UGX."
        },
        "projectImageUrl": {
          "type": "string",
          "description": "URL of an image representing the project.",
          "format": "uri"
        },
        "projectCategory": {
          "type": "string",
          "description": "Category of the project (e.g., Education, Healthcare, Environment)."
        },
        "projectStatus": {
          "type": "string",
          "description": "Status of the project (e.g., Active, Funded, Completed)."
        }
      },
      "required": [
        "projectName",
        "projectDescription",
        "fundingGoal"
      ]
    },
    "Donation": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Donation",
      "type": "object",
      "description": "Represents a donation made by a user through PaySmile.",
      "properties": {
        "userProfileId": {
          "type": "string",
          "description": "Reference to UserProfile. (Relationship: UserProfile 1:N Donation)"
        },
        "amount": {
          "type": "number",
          "description": "The amount of the donation in UGX."
        },
        "transactionHash": {
          "type": "string",
          "description": "The transaction hash on the Celo blockchain."
        },
        "donationTimestamp": {
          "type": "string",
          "description": "Timestamp of when the donation was made.",
          "format": "date-time"
        }
      },
      "required": [
        "userProfileId",
        "amount",
        "transactionHash",
        "donationTimestamp"
      ]
    },
    "SmileBadge": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "SmileBadge",
      "type": "object",
      "description": "Represents an NFT badge awarded to a user for their donations.",
      "properties": {
        "userProfileId": {
          "type": "string",
          "description": "Reference to UserProfile. (Relationship: UserProfile 1:N SmileBadge)"
        },
        "badgeName": {
          "type": "string",
          "description": "Name of the badge (e.g., Bronze Donor, Silver Supporter)."
        },
        "badgeDescription": {
          "type": "string",
          "description": "Description of what the badge represents."
        },
        "badgeImageUrl": {
          "type": "string",
          "description": "URL of the badge image.",
          "format": "uri"
        },
        "mintingTimestamp": {
          "type": "string",
          "description": "Timestamp of when the badge was minted.",
          "format": "date-time"
        }
      },
      "required": [
        "userProfileId",
        "badgeName",
        "badgeDescription",
        "badgeImageUrl",
        "mintingTimestamp"
      ]
    },
    "Settings": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Settings",
      "type": "object",
      "description": "Represents user-specific settings for PaySmile.",
      "properties": {
        "userProfileId": {
          "type": "string",
          "description": "Reference to UserProfile. (Relationship: UserProfile 1:1 Settings)"
        },
        "notificationsEnabled": {
          "type": "boolean",
          "description": "Indicates whether push notifications are enabled."
        },
        "darkModeEnabled": {
          "type": "boolean",
          "description": "Indicates whether dark mode is enabled."
        },
        "languagePreference": {
          "type": "string",
          "description": "The user's preferred language."
        },
        "currencyPreference": {
          "type": "string",
          "description": "The user's preferred currency."
        }
      },
      "required": [
        "userProfileId"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores user profile data. Users can read and write their own profile."
    },
    "/users/{userId}/settings/{settingsId}": {
      "schema": {
        "$ref": "#/entities/Settings"
      },
      "description": "Stores user-specific settings. The userId parameter matches the authenticated user's UID."
    },
    "/users/{userId}/donations/{donationId}": {
      "schema": {
        "$ref": "#/entities/Donation"
      },
      "description": "Stores donation records for a specific user. The userId parameter matches the authenticated user's UID."
    },
    "/users/{userId}/smileBadges/{smileBadgeId}": {
      "schema": {
        "$ref": "#/entities/SmileBadge"
      },
      "description": "Stores NFT badges awarded to a user. The userId parameter matches the authenticated user's UID."
    },
    "/users/{userId}/projectVotes/{projectVoteId}": {
      "schema": {
        "$ref": "#/entities/ProjectVote"
      },
      "description": "Stores user's votes for community projects. The userId parameter matches the authenticated user's UID."
    },
    "/projects/{projectId}": {
      "schema": {
        "$ref": "#/entities/Project"
      },
      "description": "Stores community project data."
    }
  }
}

    